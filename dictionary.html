<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GENwear Dictionary – Wear the Culture. Speak the Slang.</title>

  <!-- SEO -->
  <meta name="description" content="Explore generational slang from Silent Gen to Gen Alpha. Discover the words that define each generation and how they translate into streetwear culture." />
  <link rel="canonical" href="https://genwear.github.io/dictionary.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="GENwear Dictionary – Wear the Culture. Speak the Slang." />
  <meta property="og:description" content="Explore generational slang from Silent Gen to Gen Alpha. Discover the words that define each generation." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://genwear.github.io/dictionary.html" />

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" />

  <style>
    :root{
      --bg:#000; --surface:#0d0d0f; --text:#eaeaea; --muted:#b5b5b5;
      --accent1:#ff0080; --accent2:#7928ca; --accent3:#22d3ee;
      --radius:16px; --max:1120px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--max);margin:0 auto;padding:0 20px}

    /* Header - EXACT SAME AS HOMEPAGE */
    header{
      position:sticky;top:0;z-index:50;
      background:rgba(13,13,15,.9);backdrop-filter:saturate(140%) blur(8px);
      border-bottom:1px solid #1e1e22;
    }
    .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{font-weight:800;letter-spacing:.5px;font-size:1.4rem}
    .menu{display:flex;gap:24px;align-items:center}
    .menu a{opacity:.9;transition:opacity 0.2s;font-weight:500}
    .menu a:hover{opacity:1;color:var(--accent1)}
    .cta{padding:12px 20px;border-radius:999px;background:linear-gradient(90deg,var(--accent1),var(--accent2));font-weight:700;transition:transform 0.2s}
    .cta:hover{transform:scale(1.05)}

    /* Admin link - subtle in footer */
    .admin-link {
      position: fixed;
      bottom: 20px;
      right: 20px;
      opacity: 0.3;
      font-size: 12px;
      padding: 8px 12px;
      background: var(--surface);
      border: 1px solid #333;
      border-radius: 6px;
      transition: opacity 0.2s;
    }
    .admin-link:hover {
      opacity: 1;
    }

    /* Mobile menu */
    .hamburger{display:none;cursor:pointer;font-size:24px}
    @media (max-width:768px){
      .menu{display:none}
      .hamburger{display:block}
      #mobile{display:none;padding:16px 0;border-top:1px solid #1e1e22}
      #mobile a{display:block;padding:12px 0;opacity:.9;font-weight:500}
    }

    /* Hero Section - SAME STYLE AS HOMEPAGE */
    .hero{
      background:radial-gradient(1200px 400px at 20% 0%, rgba(255,0,128,.15) 0, transparent 60%),
                 radial-gradient(1200px 400px at 80% 10%, rgba(121,40,202,.15) 0, transparent 60%);
      padding:80px 0 60px;
      text-align:center;
      border-bottom:1px solid #1e1e22;
    }
    .hero-logo{
      font-size:clamp(2.5rem,6vw,4rem);
      font-weight:900;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
      margin-bottom:16px;
      letter-spacing:-2px;
    }
    .hero-tagline{
      font-size:clamp(1.1rem,2.5vw,1.5rem);
      margin-bottom:40px;
      opacity:.95;
      font-weight:300;
      max-width:700px;
      margin-left:auto;
      margin-right:auto;
    }

    /* Stats Bar */
    .stats-bar{
      display:inline-flex;
      gap:32px;
      background:var(--surface);
      border:1px solid #1e1e22;
      border-radius:16px;
      padding:20px 32px;
      margin:24px 0;
      align-items:center;
      flex-wrap:wrap;
      justify-content:center;
    }
    .stat-item{
      text-align:center;
    }
    .stat-number{
      font-size:1.8rem;
      font-weight:900;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
    }
    .stat-label{
      font-size:0.9rem;
      color:var(--muted);
      margin-top:4px;
    }

    /* Search and Filter Section - DESKTOP FOCUSED */
    .filter-section{
      background:var(--surface);
      border:1px solid #1e1e22;
      border-radius:20px;
      padding:40px;
      margin:40px 0;
    }
    .search-container{
      max-width:800px;
      margin:0 auto 40px;
    }
    .search-box{
      width:100%;
      padding:20px 28px;
      background:#111;
      border:1px solid #333;
      border-radius:16px;
      color:var(--text);
      font-size:18px;
      transition:all 0.2s;
    }
    .search-box:focus{
      outline:none;
      border-color:var(--accent1);
      box-shadow:0 0 0 4px rgba(255,0,128,0.1);
    }
    .search-box::placeholder{
      color:var(--muted);
    }

    /* Filter Pills - HORIZONTAL LAYOUT */
    .filter-row{
      margin-bottom:32px;
    }
    .filter-title{
      font-size:16px;
      font-weight:700;
      color:var(--text);
      margin-bottom:16px;
      text-transform:uppercase;
      letter-spacing:1px;
      text-align:center;
    }
    .filter-pills{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      justify-content:center;
      max-width:1000px;
      margin:0 auto;
    }
    .filter-pill{
      padding:12px 24px;
      border-radius:30px;
      font-size:14px;
      cursor:pointer;
      transition:all 0.2s;
      border:1px solid #333;
      background:#111;
      font-weight:600;
      white-space:nowrap;
    }
    .filter-pill:hover{
      border-color:var(--accent1);
      transform:translateY(-1px);
    }
    .filter-pill.active{
      background:rgba(255,0,128,0.2);
      border-color:var(--accent1);
      color:#ff80bf;
    }
    .generation-pill{
      min-width:120px;
      text-align:center;
    }

    /* Results Section */
    .results-section{
      padding:40px 0;
    }
    .results-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:32px;
      flex-wrap:wrap;
      gap:16px;
    }
    .results-count{
      font-size:1.1rem;
      color:var(--muted);
    }
    .sort-buttons{
      display:flex;
      gap:8px;
    }
    .sort-btn{
      padding:10px 18px;
      background:#111;
      border:1px solid #333;
      border-radius:25px;
      color:var(--muted);
      font-size:14px;
      cursor:pointer;
      transition:all 0.2s;
      font-weight:600;
    }
    .sort-btn:hover{
      border-color:var(--accent1);
      color:var(--text);
    }
    .sort-btn.active{
      border-color:var(--accent1);
      color:#ff80bf;
      background:rgba(255,0,128,0.1);
    }

    /* Terms Grid - SAME STYLE AS HOMEPAGE COLLECTIONS */
    .terms-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
      gap:24px;
    }
    .term-card{
      background:var(--surface);
      border:1px solid #1e1e22;
      border-radius:16px;
      padding:28px;
      transition:all 0.3s ease;
      cursor:pointer;
      position:relative;
      overflow:hidden;
    }
    .term-card:hover{
      transform:translateY(-4px);
      border-color:var(--accent1);
      background:#141416;
    }
    .term-card::before{
      content:'';
      position:absolute;
      top:0;left:0;
      width:100%;height:4px;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
    }
    .term-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      margin-bottom:16px;
    }
    .term-name{
      font-size:2rem;
      font-weight:900;
      color:var(--accent1);
      margin:0;
      text-transform:uppercase;
      letter-spacing:1px;
    }
    .trending-badge{
      padding:4px 12px;
      border-radius:12px;
      font-size:10px;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:0.5px;
    }
    .trending-hot{
      background:rgba(255,0,128,0.2);
      color:var(--accent1);
      border:1px solid var(--accent1);
    }
    .trending-rising{
      background:rgba(255,165,0,0.2);
      color:#ffa500;
      border:1px solid #ffa500;
    }
    .trending-stable{
      background:rgba(34,211,238,0.2);
      color:var(--accent3);
      border:1px solid var(--accent3);
    }
    .term-generation{
      color:var(--muted);
      font-size:0.9rem;
      margin-bottom:16px;
      font-weight:600;
    }
    .term-definition{
      color:#ddd;
      font-size:1rem;
      line-height:1.6;
      margin-bottom:20px;
    }
    .term-tags{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .term-tag{
      padding:4px 12px;
      border-radius:15px;
      font-size:11px;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:0.5px;
    }
    .tag-generation{
      border:1px solid var(--accent1);
      color:#ff80bf;
      background:rgba(255,0,128,0.1);
    }
    .tag-category{
      border:1px solid var(--accent2);
      color:#b794f6;
      background:rgba(121,40,202,0.1);
    }

    /* Loading and Error States */
    .loading-state{
      text-align:center;
      padding:80px 20px;
      color:var(--muted);
    }
    .loading-spinner{
      width:40px;
      height:40px;
      border:3px solid #333;
      border-top:3px solid var(--accent1);
      border-radius:50%;
      animation:spin 1s linear infinite;
      margin:0 auto 20px;
    }
    @keyframes spin{
      0%{transform:rotate(0deg)}
      100%{transform:rotate(360deg)}
    }
    .error-state{
      text-align:center;
      padding:80px 20px;
      color:var(--muted);
    }
    .retry-btn{
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:#fff;
      border:none;
      padding:14px 28px;
      border-radius:12px;
      cursor:pointer;
      margin-top:20px;
      transition:transform 0.2s;
      font-weight:700;
    }
    .retry-btn:hover{
      transform:translateY(-1px);
    }

    /* Section Spacing - SAME AS HOMEPAGE */
    section{padding:60px 0;border-bottom:1px solid #15151a}
    h2{font-size:clamp(2rem,4vw,2.8rem);margin:0 0 24px;font-weight:800}

    /* Footer - SAME AS HOMEPAGE */
    footer{
      background:var(--surface);
      padding:40px 0;
      text-align:center;
    }
    .footer-links{
      display:flex;
      gap:32px;
      justify-content:center;
      margin-bottom:24px;
      flex-wrap:wrap;
    }
    .footer-links a{
      color:var(--muted);
      transition:color 0.2s;
      font-weight:500;
    }
    .footer-links a:hover{
      color:var(--accent1);
    }
    .footer-text{
      color:var(--muted);
      font-size:0.9rem;
    }

    /* Mobile Styles - IMPROVED */
    @media (max-width:768px){
      .hero{padding:50px 0 30px}
      .hero-logo{font-size:2.5rem}
      .stats-bar{
        gap:16px;
        padding:16px 20px;
        flex-direction:row;
        flex-wrap:wrap;
      }
      .filter-section{padding:24px 16px}
      .search-box{padding:16px 20px;font-size:16px}
      .filter-pills{justify-content:flex-start;gap:8px}
      .filter-pill{padding:8px 16px;font-size:13px;min-width:auto}
      .generation-pill{min-width:auto}
      .results-header{
        flex-direction:column;
        align-items:stretch;
        gap:16px;
      }
      .sort-buttons{justify-content:center;gap:8px}
      .sort-btn{padding:10px 16px;font-size:13px}
      .terms-grid{
        grid-template-columns:1fr;
        gap:20px;
      }
      .term-card{padding:20px}
      .term-name{font-size:1.6rem}
      .footer-links{gap:16px;font-size:14px}
    }
  </style>
</head>
<body>
  <!-- Header - EXACT SAME AS HOMEPAGE -->
  <header>
    <div class="container nav">
      <a class="brand" href="index.html">GENwear</a>
      <nav class="menu">
        <a href="index.html#collections">Collections</a>
        <a href="dictionary.html">Slang Dictionary</a>
        <a href="index.html#about">About</a>
        <a href="index.html#shop">Shop</a>
      </nav>
      <a class="cta" href="index.html#shop">Shop Drop</a>
      <div class="hamburger" onclick="toggleMobile()">☰</div>
    </div>
    <div id="mobile" class="container">
      <a href="index.html#collections">Collections</a>
      <a href="dictionary.html">Slang Dictionary</a>
      <a href="index.html#about">About</a>
      <a href="index.html#shop">Shop</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1 class="hero-logo">Slang Dictionary</h1>
      <p class="hero-tagline">
        Explore the words that define each generation. From Silent Gen wisdom to Gen Alpha innovation, 
        discover the language that shapes culture and streetwear.
      </p>
      
      <div class="stats-bar">
        <div class="stat-item">
          <div class="stat-number" id="totalTerms">0</div>
          <div class="stat-label">Total Terms</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">6</div>
          <div class="stat-label">Generations</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="fashionTerms">0</div>
          <div class="stat-label">Fashion Terms</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Search and Filters -->
  <section>
    <div class="container">
      <div class="filter-section">
        <div class="search-container">
          <input type="text" class="search-box" placeholder="Search slang terms..." 
                 id="searchBox" onkeyup="filterTerms()">
        </div>

        <div class="filter-row">
          <div class="filter-title">Generation</div>
          <div class="filter-pills">
            <div class="filter-pill generation-pill active" onclick="toggleGeneration('all')">
              All <span id="count-all">0</span>
            </div>
            <div class="filter-pill generation-pill" onclick="toggleGeneration('silent-gen')">
              Silent Gen <span id="count-silent-gen">0</span>
            </div>
            <div class="filter-pill generation-pill" onclick="toggleGeneration('baby-boomers')">
              Boomers <span id="count-baby-boomers">0</span>
            </div>
            <div class="filter-pill generation-pill" onclick="toggleGeneration('gen-x')">
              Gen X <span id="count-gen-x">0</span>
            </div>
            <div class="filter-pill generation-pill" onclick="toggleGeneration('millennial')">
              Millennial <span id="count-millennial">0</span>
            </div>
            <div class="filter-pill generation-pill" onclick="toggleGeneration('gen-z')">
              Gen Z <span id="count-gen-z">0</span>
            </div>
            <div class="filter-pill generation-pill" onclick="toggleGeneration('gen-alpha')">
              Gen Alpha <span id="count-gen-alpha">0</span>
            </div>
          </div>
        </div>

        <div class="filter-row">
          <div class="filter-title">Categories</div>
          <div class="filter-pills">
            <div class="filter-pill active" onclick="toggleCategory('all')">All</div>
            <div class="filter-pill" onclick="toggleCategory('fashion')">Fashion</div>
            <div class="filter-pill" onclick="toggleCategory('attitude')">Attitude</div>
            <div class="filter-pill" onclick="toggleCategory('quality')">Quality</div>
            <div class="filter-pill" onclick="toggleCategory('social')">Social</div>
            <div class="filter-pill" onclick="toggleCategory('lifestyle')">Lifestyle</div>
            <div class="filter-pill" onclick="toggleCategory('expression')">Expression</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Results Section -->
  <section class="results-section">
    <div class="container">
      <div class="results-header">
        <div class="results-count">
          Showing <span id="resultCount">0</span> terms
        </div>
        <div class="sort-buttons">
          <button class="sort-btn active" onclick="sortBy('trending')">Trending</button>
          <button class="sort-btn" onclick="sortBy('alphabetical')">A-Z</button>
          <button class="sort-btn" onclick="sortBy('generation')">By Generation</button>
        </div>
      </div>

      <div class="terms-grid" id="termsContainer">
        <div class="loading-state">
          <div class="loading-spinner"></div>
          <p>Loading dictionary terms...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer - SAME AS HOMEPAGE -->
  <footer>
    <div class="container">
      <div class="footer-links">
        <a href="index.html#shop">Shop</a>
        <a href="index.html#about">About</a>
        <a href="dictionary.html">Slang Dictionary</a>
        <a href="index.html#contact">Contact</a>
        <a href="index.html#returns">Returns</a>
      </div>
      <p class="footer-text">© 2024 GENwear. Wear the Culture. Speak the Slang.</p>
    </div>
  </footer>

  <!-- Admin access -->
  <a href="admin-login.html" class="admin-link">Admin</a>

  <script>
    // API Configuration
    const API_CONFIG = {
      development: 'http://localhost:5001/api',
      production: 'https://your-flask-app.herokuapp.com/api', // UPDATE THIS URL
      staging: 'https://staging-genwear-api.herokuapp.com/api'
    };

    function getApiBaseUrl() {
      const hostname = window.location.hostname;
      
      if (hostname === 'localhost' || hostname === '127.0.0.1') {
        return API_CONFIG.development;
      } else if (hostname.includes('staging')) {
        return API_CONFIG.staging;  
      } else {
        return API_CONFIG.production;
      }
    }

    const API_BASE = getApiBaseUrl();
    
    // Global state
    let activeGeneration = 'all';
    let activeCategory = 'all';
    let currentSort = 'trending';
    let allTermsData = [];
    let isLoading = true;

    function toggleMobile() {
      const mobile = document.getElementById('mobile');
      mobile.style.display = mobile.style.display === 'block' ? 'none' : 'block';
    }

    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Initializing GENwear Dictionary...');
      loadDictionaryData();
    });

    // Load data from Flask API
    async function loadDictionaryData() {
      try {
        setLoadingState();
        
        // Load stats and terms in parallel
        const [statsResponse, termsResponse] = await Promise.all([
          fetch(`${API_BASE}/stats`).catch(() => null),
          fetch(`${API_BASE}/terms`)
        ]);

        // Handle stats (optional)
        if (statsResponse && statsResponse.ok) {
          const stats = await statsResponse.json();
          updateGenerationCounts(stats);
          updateTopStats(stats);
        }

        // Handle terms (required)
        if (!termsResponse || !termsResponse.ok) {
          throw new Error(`HTTP ${termsResponse?.status || 'Network Error'}`);
        }

        const termsData = await termsResponse.json();
        allTermsData = termsData.terms || [];
        
        populateTerms(allTermsData);
        updateResultCount();
        updateTopStats();
        
        console.log(`Successfully loaded ${allTermsData.length} terms`);
        
      } catch (error) {
        console.error('Failed to load dictionary data:', error);
        setErrorState();
      } finally {
        isLoading = false;
      }
    }

    function setLoadingState() {
      const container = document.getElementById('termsContainer');
      container.innerHTML = `
        <div class="loading-state">
          <div class="loading-spinner"></div>
          <p>Loading dictionary terms...</p>
        </div>
      `;
    }

    function setErrorState() {
      const container = document.getElementById('termsContainer');
      container.innerHTML = `
        <div class="error-state">
          <h3>Unable to load dictionary</h3>
          <p>Please check that your Flask server is running</p>
          <button class="retry-btn" onclick="loadDictionaryData()">Retry Connection</button>
        </div>
      `;
    }

    function updateTopStats(stats = null) {
      const totalTerms = allTermsData.length || (stats?.totalTerms) || 0;
      const fashionTerms = allTermsData.filter(t => t.category === 'fashion').length || 0;
      
      document.getElementById('totalTerms').textContent = totalTerms;
      document.getElementById('fashionTerms').textContent = fashionTerms;
    }

    function updateGenerationCounts(stats) {
      const totalCount = stats.totalTerms || allTermsData.length;
      const counts = stats.generationCounts || {};
      
      // Update each generation count
      document.getElementById('count-all').textContent = totalCount;
      document.getElementById('count-silent-gen').textContent = counts['silent-gen'] || 0;
      document.getElementById('count-baby-boomers').textContent = counts['baby-boomers'] || 0;
      document.getElementById('count-gen-x').textContent = counts['gen-x'] || 0;
      document.getElementById('count-millennial').textContent = counts['millennial'] || 0;
      document.getElementById('count-gen-z').textContent = counts['gen-z'] || 0;
      document.getElementById('count-gen-alpha').textContent = counts['gen-alpha'] || 0;
    }

    function populateTerms(terms) {
      const container = document.getElementById('termsContainer');
      container.innerHTML = '';
      
      if (terms.length === 0) {
        container.innerHTML = `
          <div class="error-state">
            <h3>No terms found</h3>
            <p>Try adjusting your search or filters</p>
          </div>
        `;
        return;
      }
      
      terms.forEach(term => {
        const termElement = createTermElement(term);
        container.appendChild(termElement);
      });
    }

    function createTermElement(termData) {
      const termDiv = document.createElement('div');
      termDiv.className = 'term-card';
      termDiv.setAttribute('data-generation', termData.generation);
      termDiv.setAttribute('data-category', termData.category);
      termDiv.setAttribute('data-trending', termData.trending_status || 'stable');
      
      // Trending badge
      const trendingStatus = termData.trending_status || 'stable';
      const trendingConfig = {
        'hot': { class: 'trending-hot', text: 'HOT' },
        'rising': { class: 'trending-rising', text: 'RISING' },
        'stable': { class: 'trending-stable', text: 'STABLE' }
      };
      
      const trending = trendingConfig[trendingStatus] || trendingConfig.stable;
      const trendingBadge = `<span class="trending-badge ${trending.class}">${trending.text}</span>`;
      
      // Generation display name
      const generationNames = {
        'silent-gen': 'Silent Gen (1928-1945)',
        'baby-boomers': 'Baby Boomers (1946-1964)', 
        'gen-x': 'Generation X (1965-1980)',
        'millennial': 'Millennials (1981-1996)',
        'gen-z': 'Gen Z (1997-2012)',
        'gen-alpha': 'Gen Alpha (2013-present)',
        'cross-gen': 'Cross-Generational'
      };
      
      const generationDisplay = generationNames[termData.generation] || 'Unknown';
      
      // Definition handling
      let definitionHTML = '';
      if (!termData.definition || 
          termData.definition === 'No definition available' ||
          termData.definition === 'Approved slang term') {
        definitionHTML = 'Definition coming soon...';
      } else {
        definitionHTML = termData.definition;
      }
      
      termDiv.innerHTML = `
        <div class="term-header">
          <h3 class="term-name">${termData.term}</h3>
          ${trendingBadge}
        </div>
        <div class="term-generation">${generationDisplay}</div>
        <div class="term-definition">${definitionHTML}</div>
        <div class="term-tags">
          <span class="term-tag tag-generation">${termData.generation.toUpperCase()}</span>
          <span class="term-tag tag-category">${termData.category.toUpperCase()}</span>
        </div>
      `;
      
      return termDiv;
    }

    // Filter and sort functions
    function toggleGeneration(gen) {
      activeGeneration = gen;
      
      // Update visual state
      document.querySelectorAll('.generation-pill').forEach(pill => {
        pill.classList.remove('active');
      });
      
      event.currentTarget.classList.add('active');
      filterTerms();
    }

    function toggleCategory(category) {
      activeCategory = category;
      
      // Update visual state - only category pills, not generation pills
      document.querySelectorAll('.filter-pill:not(.generation-pill)').forEach(pill => {
        pill.classList.remove('active');
      });
      
      event.currentTarget.classList.add('active');
      filterTerms();
    }

    function sortBy(method) {
      currentSort = method;
      
      document.querySelectorAll('.sort-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.currentTarget.classList.add('active');
      
      sortVisibleTerms(method);
    }

    function filterTerms() {
      if (isLoading) return;
      
      const searchTerm = document.getElementById('searchBox').value.toLowerCase();
      const terms = document.querySelectorAll('.term-card');
      let visibleCount = 0;

      terms.forEach(term => {
        const termName = term.querySelector('.term-name').textContent.toLowerCase();
        const definition = term.querySelector('.term-definition').textContent.toLowerCase();
        const generation = term.getAttribute('data-generation');
        const category = term.getAttribute('data-category');

        let shouldShow = true;

        // Search filter
        if (searchTerm && !termName.includes(searchTerm) && !definition.includes(searchTerm)) {
          shouldShow = false;
        }

        // Generation filter
        if (activeGeneration !== 'all' && generation !== activeGeneration) {
          shouldShow = false;
        }

        // Category filter
        if (activeCategory !== 'all' && category !== activeCategory) {
          shouldShow = false;
        }

        term.style.display = shouldShow ? 'block' : 'none';
        if (shouldShow) visibleCount++;
      });

      updateResultCount(visibleCount);
      
      // Re-apply sort
      if (currentSort) {
        sortVisibleTerms(currentSort);
      }
    }

    function updateResultCount(count = null) {
      if (count === null) {
        count = document.querySelectorAll('.term-card:not([style*="display: none"])').length;
      }
      document.getElementById('resultCount').textContent = count;
    }

    function sortVisibleTerms(method) {
      const container = document.getElementById('termsContainer');
      const terms = Array.from(container.querySelectorAll('.term-card:not([style*="display: none"])'));
      
      terms.sort((a, b) => {
        switch(method) {
          case 'alphabetical':
            const nameA = a.querySelector('.term-name').textContent;
            const nameB = b.querySelector('.term-name').textContent;
            return nameA.localeCompare(nameB);
          
          case 'generation':
            const genOrder = ['silent-gen', 'baby-boomers', 'gen-x', 'millennial', 'gen-z', 'gen-alpha', 'cross-gen'];
            const genA = a.getAttribute('data-generation');
            const genB = b.getAttribute('data-generation');
            return genOrder.indexOf(genA) - genOrder.indexOf(genB);
          
          case 'trending':
          default:
            const trendingOrder = { 'hot': 3, 'rising': 2, 'stable': 1 };
            const trendingA = a.getAttribute('data-trending') || 'stable';
            const trendingB = b.getAttribute('data-trending') || 'stable';
            return (trendingOrder[trendingB] || 1) - (trendingOrder[trendingA] || 1);
        }
      });
      
      // Re-append sorted terms
      terms.forEach(term => container.appendChild(term));
    }
  </script>
</body>
</html>
